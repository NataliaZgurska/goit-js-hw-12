{"version":3,"file":"commonHelpers.js","sources":["../src/js/render_functions.js","../src/js/pixabay_api.js","../src/main.js"],"sourcesContent":["// Розмітка для 1 картинки\nexport function imgTemplate({webformatURL, largeImageURL, tags, likes, views, comments, downloads}) {\n  return ` \n  <a href=\"${largeImageURL}\" class=\"gallery-link\">\n     <figure>\n      <img src=\"${webformatURL}\" alt=\"${tags}\" class=\"gallery-image\">\n      <figcaption class=\"gallery-figcaption\">\n        <div class=\"image-item\">Likes <span class=\"image-elem\">${likes}</span></div>\n        <div class=\"image-item\">Views <span class=\"image-elem\">${views}</span></div>\n        <div class=\"image-item\">Comments <span class=\"image-elem\">${comments}</span></div>\n        <div class=\"image-item\">Downloads <span class=\"image-elem\">${downloads}</span></div>\n  </figcaption>\n  </figure>\n</a >`\n    }\n\n\n// Рендеримо галерею\nexport function renderPictures(aray) {\n    const markup = aray.map(imgTemplate).join('');\n    return markup;\n}","import axios from 'axios';\n\nexport class PicturesAPI {\n    constructor() {}\n  \n    async getPictures(searchText, page_number) {\n        const BASE_URL = 'https://pixabay.com/api';\n        const API_KEY = '/?key=42190673-143cbde4cd6a94de75e31d0a4';\n        const PARAMS = '&image_type=photo&orientation=horizontal&safesearch=true';\n        const PER_PAGE = '&per_page=15';\n        const PAGE = '&page=';\n        // let page_number = 1;\n        const SEARCH_PARAMS = `&q=${searchText}`;\n        \n    \n        const url = `${BASE_URL}${API_KEY}${SEARCH_PARAMS}${PARAMS}${PER_PAGE}${PAGE}${page_number}`\n\n        const response = await axios.get(url);\n        console.log('Запит на сервер', response.data);\n        return response.data;\n    }\n\n}\n\n","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport Axios from 'axios';\n\nimport { renderPictures, imgTemplate } from \"./js/render_functions\";\n\nimport { PicturesAPI } from \"./js/pixabay_api\";\nconst pictureAPI = new PicturesAPI();\n\nconst formEl = document.querySelector('.form-search');\nconst imgContainer = document.querySelector('.gallery');\nconst loaderContainer = document.querySelector('.loader-container');\nconst loadBtn = document.querySelector('.js-load-btn')\n\n// Ховаємо лоадер і кнопку load more\nloaderContainer.style.display = 'none';\nloadBtn.style.display = 'none';\n\nformEl.addEventListener('submit', onFormSubmit);\n\nlet currentPage = 1;\n\nasync function onFormSubmit(e) {\n    e.preventDefault();\n    const query = e.target.elements.text.value.trim();\n  if (query === '') {\n        imgContainer.innerHTML = '';\n        return\n    };\n\n    // Очищуємо контейнер, показуємо лоадер\n    imgContainer.innerHTML = '';\n    loaderContainer.style.display = 'flex';\n\n    // Викликаєм функцію звернення на сервер, Створюємо галерею\n    const { total, hits } = await pictureAPI.getPictures(query, currentPage);\n   \n    // перевірка, що картинки знайдені\n      if (hits.length === 0) {\n        errorShow();\n             // очищуємо форму, ховаємо лоадер\n            formEl.reset();\n            loaderContainer.style.display = 'none';\n        return;\n    }\n\n    imgContainer.innerHTML = renderPictures(hits);\n\n    // модульне вікно з бібліотеки   \n    let gallery = new SimpleLightbox('.gallery a', { captionDelay: 250, captionsData: 'alt', showCounter: false });\n    \n    // очищуємо форму, ховаємо лоадер, викликаємо кнопку load more\n    // gallery.refresh();\n    formEl.reset();\n  loaderContainer.style.display = 'none';\n  loadBtn.style.display = 'block';\n}\n\nloadBtn.addEventListener('submit', loadMore)\n\nfunction loadMore(e) {\n  e.preventDefault();\n  currentPage += 1;\n  // Викликаємо лоадер і ховаємо кнопку load more\n  // loaderContainer.style.display = 'flex';\n  // loadBtn.style.display = 'none';\n\nconsole.log('hello');\n}\n\n\n// ******************************************\n// спливаюче вікно про помилку бібліотеки iziToast\nfunction errorShow() {\n              iziToast.show({\n                    close: true,\n                    message: 'Sorry, there are no images matching your search query. Please try again!',\n                  messageColor: '#FFFFFF',\n                    messageSize: '10px',\n                    backgroundColor: '#B51B1B',\n                    position: 'topRight',\n                    close: true,\n                  timeout: 10000,\n                  progressBarColor: '#FFFFFF',\n                  maxWidth: '380px',\n                    });\n}"],"names":["imgTemplate","webformatURL","largeImageURL","tags","likes","views","comments","downloads","renderPictures","aray","PicturesAPI","searchText","page_number","BASE_URL","API_KEY","PARAMS","PER_PAGE","PAGE","SEARCH_PARAMS","url","response","axios","pictureAPI","formEl","imgContainer","loaderContainer","loadBtn","onFormSubmit","currentPage","e","query","total","hits","errorShow","SimpleLightbox","loadMore","iziToast"],"mappings":"owBACO,SAASA,EAAY,CAAC,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,EAAG,CAClG,MAAO;AAAA,aACIL,CAAa;AAAA;AAAA,kBAERD,CAAY,UAAUE,CAAI;AAAA;AAAA,iEAEqBC,CAAK;AAAA,iEACLC,CAAK;AAAA,oEACFC,CAAQ;AAAA,qEACPC,CAAS;AAAA;AAAA;AAAA,MAIzE,CAIE,SAASC,EAAeC,EAAM,CAEjC,OADeA,EAAK,IAAIT,CAAW,EAAE,KAAK,EAAE,CAEhD,CCnBO,MAAMU,CAAY,CACrB,aAAc,CAAE,CAEhB,MAAM,YAAYC,EAAYC,EAAa,CACvC,MAAMC,EAAW,0BACXC,EAAU,2CACVC,EAAS,2DACTC,EAAW,eACXC,EAAO,SAEPC,EAAgB,MAAMP,CAAU,GAGhCQ,EAAM,GAAGN,CAAQ,GAAGC,CAAO,GAAGI,CAAa,GAAGH,CAAM,GAAGC,CAAQ,GAAGC,CAAI,GAAGL,CAAW,GAEpFQ,EAAW,MAAMC,EAAM,IAAIF,CAAG,EACpC,eAAQ,IAAI,kBAAmBC,EAAS,IAAI,EACrCA,EAAS,IACnB,CAEL,CCXA,MAAME,EAAa,IAAIZ,EAEjBa,EAAS,SAAS,cAAc,cAAc,EAC9CC,EAAe,SAAS,cAAc,UAAU,EAChDC,EAAkB,SAAS,cAAc,mBAAmB,EAC5DC,EAAU,SAAS,cAAc,cAAc,EAGrDD,EAAgB,MAAM,QAAU,OAChCC,EAAQ,MAAM,QAAU,OAExBH,EAAO,iBAAiB,SAAUI,CAAY,EAE9C,IAAIC,EAAc,EAElB,eAAeD,EAAaE,EAAG,CAC3BA,EAAE,eAAc,EAChB,MAAMC,EAAQD,EAAE,OAAO,SAAS,KAAK,MAAM,OAC7C,GAAIC,IAAU,GAAI,CACZN,EAAa,UAAY,GACzB,MAER,CAEIA,EAAa,UAAY,GACzBC,EAAgB,MAAM,QAAU,OAGhC,KAAM,CAAE,MAAAM,EAAO,KAAAC,GAAS,MAAMV,EAAW,YAAYQ,EAAOF,CAAW,EAGrE,GAAII,EAAK,SAAW,EAAG,CACrBC,IAEIV,EAAO,MAAK,EACZE,EAAgB,MAAM,QAAU,OACpC,MACH,CAEDD,EAAa,UAAYhB,EAAewB,CAAI,EAG9B,IAAIE,EAAe,aAAc,CAAE,aAAc,IAAK,aAAc,MAAO,YAAa,GAAO,EAI7GX,EAAO,MAAK,EACdE,EAAgB,MAAM,QAAU,OAChCC,EAAQ,MAAM,QAAU,OAC1B,CAEAA,EAAQ,iBAAiB,SAAUS,CAAQ,EAE3C,SAASA,EAASN,EAAG,CACnBA,EAAE,eAAc,EAChBD,GAAe,EAKjB,QAAQ,IAAI,OAAO,CACnB,CAKA,SAASK,GAAY,CACPG,EAAS,KAAK,CACR,MAAO,GACP,QAAS,2EACX,aAAc,UACZ,YAAa,OACb,gBAAiB,UACjB,SAAU,WACV,MAAO,GACT,QAAS,IACT,iBAAkB,UAClB,SAAU,OAC5B,CAAqB,CACrB"}