{"version":3,"file":"commonHelpers.js","sources":["../src/js/picturesAPI.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nexport class PicturesAPI {\n    constructor() {}\n  \n    async getPictures(searchText) {\n        const BASE_URL = 'https://pixabay.com/api';\n        const API_KEY = '/?key=42190673-143cbde4cd6a94de75e31d0a4';\n        const PARAMS = '&image_type=photo&orientation=horizontal&safesearch=true';\n        const SEARCH_PARAMS = `&q=${searchText}`;\n        \n        const url = BASE_URL + API_KEY + SEARCH_PARAMS + PARAMS; \n\n        const response = await axios.get(url);\n        console.log('Запит на сервер', response.data);\n        return response.data;\n    }\n\n}\n\n","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport Axios from 'axios';\n\nimport { PicturesAPI } from \"./js/picturesAPI\";\nconst pictureAPI = new PicturesAPI();\n\nconst formEl = document.querySelector('.form-search');\nconst imgContainer = document.querySelector('.gallery');\nconst loaderContainer = document.querySelector('.loader-container');\n\n// Ховаємо лоадер\nloaderContainer.style.display = 'none';\n\nformEl.addEventListener('submit', onFormSubmit);\n\nasync function onFormSubmit(e) {\n    e.preventDefault();\n    const query = e.target.elements.text.value;\n        if (query === '') {\n        return\n    };\n\n    // Очищуємо контейнер, показуємо лоадер\n    imgContainer.innerHTML = '';\n    loaderContainer.style.display = 'flex';\n\n    // Викликаєм функцію звернення на сервер, Створюємо галерею\n    const { total, hits } = await pictureAPI.getPictures(query);\n   \n    // перевірка, що картинки знайдені\n    if (total === 0) {\n        errorShow();\n             // очищуємо форму, ховаємо лоадер\n            formEl.reset();\n            loaderContainer.style.display = 'none';\n        return;\n    }\n\n    renderPictures(hits);\n\n    // модульне вікно з бібліотеки   \n    let gallery = new SimpleLightbox('.gallery a', { captionDelay: 250, captionsData: 'alt', showCounter: false });\n    \n    // очищуємо галерею, форму, ховаємо лоадер\n    gallery.refresh();\n    formEl.reset();\n    loaderContainer.style.display = 'none';\n}\n\n\n// ******************************************\n\n// Розмітка для 1 картинки\nfunction imgTemplate({webformatURL, largeImageURL, tags, likes, views, comments, downloads}) {\n  return ` \n  <a href=\"${largeImageURL}\" class=\"gallery-link\">\n     <figure>\n      <img src=\"${webformatURL}\" alt=\"${tags}\" class=\"gallery-image\">\n      <figcaption class=\"gallery-figcaption\">\n        <div class=\"image-item\">Likes <span class=\"image-elem\">${likes}</span></div>\n        <div class=\"image-item\">Views <span class=\"image-elem\">${views}</span></div>\n        <div class=\"image-item\">Comments <span class=\"image-elem\">${comments}</span></div>\n        <div class=\"image-item\">Downloads <span class=\"image-elem\">${downloads}</span></div>\n  </figcaption>\n  </figure>\n</a >`\n    }\n\n// Розмітка для масиву\nfunction imagesTemplate(aray) {\n  return aray.map(imgTemplate).join('');\n}\n\n// Рендеримо галерею\nfunction renderPictures(aray) {\n    const markup = imagesTemplate(aray);\n    imgContainer.innerHTML = markup;\n}\n\n// спливаюче вікно про помилку бібліотеки iziToast\nfunction errorShow() {\n              iziToast.show({\n                    close: true,\n                    message: 'Sorry, there are no images matching your search query. Please try again!',\n                  messageColor: '#FFFFFF',\n                    messageSize: '10px',\n                    backgroundColor: '#B51B1B',\n                    position: 'topRight',\n                    close: true,\n                  timeout: 10000,\n                  progressBarColor: '#FFFFFF',\n                  maxWidth: '380px',\n                    });\n}"],"names":["PicturesAPI","searchText","BASE_URL","API_KEY","PARAMS","SEARCH_PARAMS","url","response","axios","pictureAPI","formEl","imgContainer","loaderContainer","onFormSubmit","e","query","total","hits","errorShow","renderPictures","SimpleLightbox","imgTemplate","webformatURL","largeImageURL","tags","likes","views","comments","downloads","imagesTemplate","aray","markup","iziToast"],"mappings":"owBAEO,MAAMA,CAAY,CACrB,aAAc,CAAE,CAEhB,MAAM,YAAYC,EAAY,CAC1B,MAAMC,EAAW,0BACXC,EAAU,2CACVC,EAAS,2DACTC,EAAgB,MAAMJ,CAAU,GAEhCK,EAAMJ,EAAWC,EAAUE,EAAgBD,EAE3CG,EAAW,MAAMC,EAAM,IAAIF,CAAG,EACpC,eAAQ,IAAI,kBAAmBC,EAAS,IAAI,EACrCA,EAAS,IACnB,CAEL,CCTA,MAAME,EAAa,IAAIT,EAEjBU,EAAS,SAAS,cAAc,cAAc,EAC9CC,EAAe,SAAS,cAAc,UAAU,EAChDC,EAAkB,SAAS,cAAc,mBAAmB,EAGlEA,EAAgB,MAAM,QAAU,OAEhCF,EAAO,iBAAiB,SAAUG,CAAY,EAE9C,eAAeA,EAAaC,EAAG,CAC3BA,EAAE,eAAc,EAChB,MAAMC,EAAQD,EAAE,OAAO,SAAS,KAAK,MACjC,GAAIC,IAAU,GACd,OAIJJ,EAAa,UAAY,GACzBC,EAAgB,MAAM,QAAU,OAGhC,KAAM,CAAE,MAAAI,EAAO,KAAAC,CAAM,EAAG,MAAMR,EAAW,YAAYM,CAAK,EAG1D,GAAIC,IAAU,EAAG,CACbE,IAEIR,EAAO,MAAK,EACZE,EAAgB,MAAM,QAAU,OACpC,MACH,CAEDO,EAAeF,CAAI,EAGL,IAAIG,EAAe,aAAc,CAAE,aAAc,IAAK,aAAc,MAAO,YAAa,EAAO,CAAA,EAGrG,QAAO,EACfV,EAAO,MAAK,EACZE,EAAgB,MAAM,QAAU,MACpC,CAMA,SAASS,EAAY,CAAC,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,EAAG,CAC3F,MAAO;AAAA,aACIL,CAAa;AAAA;AAAA,kBAERD,CAAY,UAAUE,CAAI;AAAA;AAAA,iEAEqBC,CAAK;AAAA,iEACLC,CAAK;AAAA,oEACFC,CAAQ;AAAA,qEACPC,CAAS;AAAA;AAAA;AAAA,MAIzE,CAGL,SAASC,EAAeC,EAAM,CAC5B,OAAOA,EAAK,IAAIT,CAAW,EAAE,KAAK,EAAE,CACtC,CAGA,SAASF,EAAeW,EAAM,CAC1B,MAAMC,EAASF,EAAeC,CAAI,EAClCnB,EAAa,UAAYoB,CAC7B,CAGA,SAASb,GAAY,CACPc,EAAS,KAAK,CACR,MAAO,GACP,QAAS,2EACX,aAAc,UACZ,YAAa,OACb,gBAAiB,UACjB,SAAU,WACV,MAAO,GACT,QAAS,IACT,iBAAkB,UAClB,SAAU,OAC5B,CAAqB,CACrB"}